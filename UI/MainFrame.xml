<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/">

  <!--==========================================================================
    AutoLFM Main Frame
    ==========================================================================
    Main window with role selection, content tabs, and scrollable content area
    ==========================================================================-->
  <Frame name="AutoLFM_MainFrame" parent="UIParent" movable="true" enableMouse="true" hidden="true" toplevel="true">
    <Size>
      <AbsDimension x="384" y="512"/>
    </Size>
    <Anchors>
      <Anchor point="CENTER"/>
    </Anchors>
    <Layers>
      <Layer level="BACKGROUND">
        <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\ContentBackground">
          <Size>
            <AbsDimension x="512" y="256"/>
          </Size>
          <Anchors>
            <Anchor point="TOP">
              <Offset>
                <AbsDimension x="85" y="-155"/>
              </Offset>
            </Anchor>
          </Anchors>
        </Texture>
      </Layer>
      <Layer level="ARTWORK">
        <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\MainFrame">
          <Size>
            <AbsDimension x="512" y="512"/>
          </Size>
          <Anchors>
            <Anchor point="TOPLEFT"/>
          </Anchors>
        </Texture>
      </Layer>
      <Layer level="OVERLAY">
        <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Eye\Eye00">
          <Size>
            <AbsDimension x="64" y="64"/>
          </Size>
          <Anchors>
            <Anchor point="TOPLEFT">
              <Offset>
                <AbsDimension x="7" y="-4"/>
              </Offset>
            </Anchor>
          </Anchors>
        </Texture>
        <FontString inherits="GameFontNormal" text="AutoLFM">
          <Anchors>
            <Anchor point="TOP">
              <Offset>
                <AbsDimension x="0" y="-18"/>
              </Offset>
            </Anchor>
          </Anchors>
        </FontString>
      </Layer>
    </Layers>
    <Frames>
      <!--==================================================================
        Close Button
        ==================================================================-->
      <Button inherits="UIPanelCloseButton">
        <Anchors>
          <Anchor point="TOPRIGHT">
            <Offset>
              <AbsDimension x="-27" y="-8"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnClick>
            HideUIPanel(this:GetParent())
          </OnClick>
        </Scripts>
      </Button>
      <!--==================================================================
        Role Selection Buttons
        ==================================================================-->
      <!-- Tank -->
      <Button name="$parent_RoleTank">
        <Size>
          <AbsDimension x="54" y="54"/>
        </Size>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="74" y="-52"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture name="$parent_Background" file="Interface\AddOns\AutoLFM3\UI\Textures\RolesBackground">
              <TexCoords left="0.2968" right="0.5937" top="0" bottom="0.5937"/>
              <Size>
                <AbsDimension x="84" y="84"/>
              </Size>
              <Anchors>
                <Anchor point="TOPLEFT">
                  <Offset>
                    <AbsDimension x="-12" y="14"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\RolesTank">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
        </Layers>
        <HighlightTexture file="Interface\AddOns\AutoLFM3\UI\Textures\RolesHighlight" alphaMode="ADD"/>
        <Scripts>
          <OnLoad>
            getglobal(this:GetName() .. "_Background"):SetVertexColor(1, 1, 1, 0.6)
          </OnLoad>
          <OnClick>
            AutoLFM.Core.Maestro.Dispatch("roles.toggle", "tank")
          </OnClick>
        </Scripts>
      </Button>
      <CheckButton name="$parent_RoleTankCheckbox" inherits="UICheckButtonTemplate">
        <Size>
          <AbsDimension x="24" y="24"/>
        </Size>
        <Anchors>
          <Anchor point="BOTTOMLEFT" relativeTo="$parent_RoleTank" relativePoint="BOTTOMLEFT">
            <Offset>
              <AbsDimension x="1" y="-5"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnLoad>
            this:EnableMouse(false)
          </OnLoad>
        </Scripts>
      </CheckButton>
      <!-- Heal -->
      <Button name="$parent_RoleHeal">
        <Size>
          <AbsDimension x="54" y="54"/>
        </Size>
        <Anchors>
          <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_RoleTank">
            <Offset>
              <AbsDimension x="44" y="0"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture name="$parent_Background" file="Interface\AddOns\AutoLFM3\UI\Textures\RolesBackground">
              <TexCoords left="0" right="0.2968" top="0" bottom="0.5937"/>
              <Size>
                <AbsDimension x="84" y="84"/>
              </Size>
              <Anchors>
                <Anchor point="TOPLEFT">
                  <Offset>
                    <AbsDimension x="-12" y="12"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\RolesHeal">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
        </Layers>
        <HighlightTexture file="Interface\AddOns\AutoLFM3\UI\Textures\RolesHighlight" alphaMode="ADD"/>
        <Scripts>
          <OnLoad>
            getglobal(this:GetName() .. "_Background"):SetVertexColor(1, 1, 1, 0.6)
          </OnLoad>
          <OnClick>
            AutoLFM.Core.Maestro.Dispatch("roles.toggle", "heal")
          </OnClick>
        </Scripts>
      </Button>
      <CheckButton name="$parent_RoleHealCheckbox" inherits="UICheckButtonTemplate">
        <Size>
          <AbsDimension x="24" y="24"/>
        </Size>
        <Anchors>
          <Anchor point="BOTTOMLEFT" relativeTo="$parent_RoleHeal" relativePoint="BOTTOMLEFT">
            <Offset>
              <AbsDimension x="1" y="-5"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnLoad>
            this:EnableMouse(false)
          </OnLoad>
        </Scripts>
      </CheckButton>
      <!-- DPS -->
      <Button name="$parent_RoleDPS">
        <Size>
          <AbsDimension x="54" y="54"/>
        </Size>
        <Anchors>
          <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_RoleHeal">
            <Offset>
              <AbsDimension x="44" y="0"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture name="$parent_Background" file="Interface\AddOns\AutoLFM3\UI\Textures\RolesBackground">
              <TexCoords left="0.5937" right="0.8906" top="0" bottom="0.5937"/>
              <Size>
                <AbsDimension x="84" y="84"/>
              </Size>
              <Anchors>
                <Anchor point="TOPLEFT">
                  <Offset>
                    <AbsDimension x="-12" y="14"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\RolesDps">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
        </Layers>
        <HighlightTexture file="Interface\AddOns\AutoLFM3\UI\Textures\RolesHighlight" alphaMode="ADD"/>
        <Scripts>
          <OnLoad>
            getglobal(this:GetName() .. "_Background"):SetVertexColor(1, 1, 1, 0.6)
          </OnLoad>
          <OnClick>
            AutoLFM.Core.Maestro.Dispatch("roles.toggle", "dps")
          </OnClick>
        </Scripts>
      </Button>
      <CheckButton name="$parent_RoleDPSCheckbox" inherits="UICheckButtonTemplate">
        <Size>
          <AbsDimension x="24" y="24"/>
        </Size>
        <Anchors>
          <Anchor point="BOTTOMLEFT" relativeTo="$parent_RoleDPS" relativePoint="BOTTOMLEFT">
            <Offset>
              <AbsDimension x="1" y="-5"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnLoad>
            this:EnableMouse(false)
          </OnLoad>
        </Scripts>
      </CheckButton>
      <!--==================================================================
        Content Area (ScrollFrame)
        ==================================================================-->
      <ScrollFrame name="$parent_ScrollFrame" inherits="UIPanelScrollFrameTemplate">
        <Size>
          <AbsDimension x="295" y="252"/>
        </Size>
        <Anchors>
          <Anchor point="TOPLEFT">
            <Offset>
              <AbsDimension x="25" y="-158"/>
            </Offset>
          </Anchor>
        </Anchors>
        <ScrollChild>
          <Frame name="AutoLFM_MainFrame_Content">
            <Size>
              <AbsDimension x="298" y="230"/>
            </Size>
            <Anchors>
              <Anchor point="TOPLEFT">
                <Offset>
                  <AbsDimension x="-3" y="0"/>
                </Offset>
              </Anchor>
            </Anchors>
          </Frame>
        </ScrollChild>
      </ScrollFrame>
      <!--==================================================================
        Main Action Button
        ==================================================================-->
      <Button name="$parent_MainButton" inherits="UIPanelButtonTemplate" text="Start">
        <Size>
          <AbsDimension x="104" y="21"/>
        </Size>
        <Anchors>
          <Anchor point="BOTTOM">
            <Offset>
              <AbsDimension x="-8" y="79"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Scripts>
          <OnLoad>
            this:Disable()
          </OnLoad>
          <OnClick>
            AutoLFM.Core.Maestro.Dispatch("broadcaster.toggle")
          </OnClick>
        </Scripts>
      </Button>
      <!--==================================================================
        Bottom Tab Buttons (Content selection)
        ==================================================================-->
      <!-- Dungeons -->
      <Button name="$parent_Tab1">
        <Size>
          <AbsDimension x="90" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="BOTTOMLEFT">
            <Offset>
              <AbsDimension x="18" y="46"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\BottomTabActive">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture name="$parent_Highlight" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\BottomTabHighlight" hidden="true">
              <Size>
                <AbsDimension x="80" y="24"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="OVERLAY">
            <FontString inherits="GameFontNormalSmall" text="Dungeons">
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
              <Color r="1" g="1" b="1"/>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick>
            AutoLFM.Logic.MainFrame.SelectBottomTab(1)
          </OnClick>
        </Scripts>
      </Button>
      <!-- Raids -->
      <Button name="$parent_Tab2">
        <Size>
          <AbsDimension x="90" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_Tab1">
            <Offset>
              <AbsDimension x="-10" y="0"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\BottomTabInactive">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture name="$parent_Highlight" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\BottomTabHighlight" hidden="true">
              <Size>
                <AbsDimension x="80" y="24"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="OVERLAY">
            <FontString inherits="GameFontNormalSmall" text="Raids">
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
              <Color r="1" g="0.82" b="0"/>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick>
            AutoLFM.Logic.MainFrame.SelectBottomTab(2)
          </OnClick>
          <OnEnter>
            getglobal(this:GetName().."_Highlight"):Show()
          </OnEnter>
          <OnLeave>
            getglobal(this:GetName().."_Highlight"):Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <!-- Quests -->
      <Button name="$parent_Tab3">
        <Size>
          <AbsDimension x="90" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_Tab2">
            <Offset>
              <AbsDimension x="-10" y="0"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\BottomTabInactive">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture name="$parent_Highlight" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\BottomTabHighlight" hidden="true">
              <Size>
                <AbsDimension x="80" y="24"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="OVERLAY">
            <FontString inherits="GameFontNormalSmall" text="Quests">
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
              <Color r="1" g="0.82" b="0"/>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick>
            AutoLFM.Logic.MainFrame.SelectBottomTab(3)
          </OnClick>
          <OnEnter>
            getglobal(this:GetName().."_Highlight"):Show()
          </OnEnter>
          <OnLeave>
            getglobal(this:GetName().."_Highlight"):Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <!-- Broadcasts -->
      <Button name="$parent_Tab4">
        <Size>
          <AbsDimension x="90" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_Tab3">
            <Offset>
              <AbsDimension x="-10" y="0"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\BottomTabInactive">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture name="$parent_Highlight" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\BottomTabHighlight" hidden="true">
              <Size>
                <AbsDimension x="80" y="24"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="OVERLAY">
            <FontString inherits="GameFontNormalSmall" text="Broadcasts">
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
              <Color r="1" g="0.82" b="0"/>
            </FontString>
          </Layer>
        </Layers>
        <Scripts>
          <OnClick>
            AutoLFM.Logic.MainFrame.SelectBottomTab(4)
          </OnClick>
          <OnEnter>
            getglobal(this:GetName().."_Highlight"):Show()
          </OnEnter>
          <OnLeave>
            getglobal(this:GetName().."_Highlight"):Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <!--==================================================================
        Line Tab Buttons (Right side actions)
        ==================================================================-->
      <!-- Clear All -->
      <Button name="$parent_LineTab3">
        <Size>
          <AbsDimension x="32" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
            <Offset>
              <AbsDimension x="0" y="-163"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTab">
              <Size>
                <AbsDimension x="64" y="64"/>
              </Size>
              <Anchors>
                <Anchor point="TOPLEFT">
                  <Offset>
                    <AbsDimension x="-3" y="11"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="OVERLAY">
            <Texture name="$parent_Icon" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\ClearAll">
              <Size>
                <AbsDimension x="32" y="32"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="HIGHLIGHT">
            <Texture name="$parent_Highlight" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabHighlight" alphaMode="ADD">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
            <Texture name="$parent_Click" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabClick" hidden="true">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
        </Layers>
        <NormalTexture/>
        <Scripts>
          <OnClick>
            AutoLFM.Core.Maestro.Dispatch("selection.clear_all")
          </OnClick>
          <OnMouseDown>
            if this:IsEnabled() then
              local click = getglobal(this:GetName().."_Click")
              if click then click:Show() end
            end
          </OnMouseDown>
          <OnMouseUp>
            local click = getglobal(this:GetName().."_Click")
            if click then click:Hide() end
          </OnMouseUp>
          <OnEnter>
            GameTooltip:SetOwner(this, "ANCHOR_NONE")
            GameTooltip:ClearAllPoints()
            GameTooltip:SetPoint("BOTTOMRIGHT", this, "TOPRIGHT", 3, 1)
            GameTooltip:SetText("Clear all", 1, 1, 1)
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <!-- Presets -->
      <CheckButton name="$parent_LineTab1">
        <Size>
          <AbsDimension x="32" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_LineTab3">
            <Offset>
              <AbsDimension x="0" y="-17"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTab">
              <Size>
                <AbsDimension x="64" y="64"/>
              </Size>
              <Anchors>
                <Anchor point="TOPLEFT">
                  <Offset>
                    <AbsDimension x="-3" y="11"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\Presets">
              <Size>
                <AbsDimension x="32" y="32"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="HIGHLIGHT">
            <Texture name="$parent_Highlight" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabHighlight" alphaMode="ADD">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
        </Layers>
        <NormalTexture/>
        <PushedTexture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabClick"/>
        <CheckedTexture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabActive" alphaMode="ADD"/>
        <Scripts>
          <OnClick>
            AutoLFM.Logic.MainFrame.SelectLineTab(1)
          </OnClick>
          <OnEnter>
            GameTooltip:SetOwner(this, "ANCHOR_NONE")
            GameTooltip:ClearAllPoints()
            GameTooltip:SetPoint("BOTTOMRIGHT", this, "TOPRIGHT", 3, 1)
            GameTooltip:SetText("Show presets", 1, 1, 1)
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </CheckButton>
      <!-- Add Preset -->
      <Button name="$parent_LineTab2">
        <Size>
          <AbsDimension x="32" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_LineTab1">
            <Offset>
              <AbsDimension x="0" y="-17"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTab">
              <Size>
                <AbsDimension x="64" y="64"/>
              </Size>
              <Anchors>
                <Anchor point="TOPLEFT">
                  <Offset>
                    <AbsDimension x="-3" y="11"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="OVERLAY">
            <Texture name="$parent_Icon" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\AddPreset">
              <Size>
                <AbsDimension x="32" y="32"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="HIGHLIGHT">
            <Texture name="$parent_Highlight" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabHighlight" alphaMode="ADD">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
            <Texture name="$parent_Click" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabClick" hidden="true">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
        </Layers>
        <NormalTexture/>
        <Scripts>
          <OnClick>
            AutoLFM.Core.Maestro.Dispatch("presets.save")
          </OnClick>
          <OnMouseDown>
            if this:IsEnabled() then
              local click = getglobal(this:GetName().."_Click")
              if click then click:Show() end
            end
          </OnMouseDown>
          <OnMouseUp>
            local click = getglobal(this:GetName().."_Click")
            if click then click:Hide() end
          </OnMouseUp>
          <OnEnter>
            GameTooltip:SetOwner(this, "ANCHOR_NONE")
            GameTooltip:ClearAllPoints()
            GameTooltip:SetPoint("BOTTOMRIGHT", this, "TOPRIGHT", 3, 1)
            GameTooltip:SetText("Save current preset", 1, 1, 1)
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </Button>
      <!-- AutoInvite -->
      <CheckButton name="$parent_LineTab5">
        <Size>
          <AbsDimension x="32" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_LineTab2">
            <Offset>
              <AbsDimension x="0" y="-17"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTab">
              <Size>
                <AbsDimension x="64" y="64"/>
              </Size>
              <Anchors>
                <Anchor point="TOPLEFT">
                  <Offset>
                    <AbsDimension x="-3" y="11"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\AutoInvite">
              <Size>
                <AbsDimension x="32" y="32"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="HIGHLIGHT">
            <Texture name="$parent_Highlight" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabHighlight" alphaMode="ADD">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
        </Layers>
        <NormalTexture/>
        <PushedTexture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabClick"/>
        <CheckedTexture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabActive" alphaMode="ADD"/>
        <Scripts>
          <OnClick>
            AutoLFM.Logic.MainFrame.SelectLineTab(5)
          </OnClick>
          <OnEnter>
            GameTooltip:SetOwner(this, "ANCHOR_NONE")
            GameTooltip:ClearAllPoints()
            GameTooltip:SetPoint("BOTTOMRIGHT", this, "TOPRIGHT", 3, 1)
            GameTooltip:SetText("AutoInvite", 1, 1, 1)
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </CheckButton>
      <!-- Options -->
      <CheckButton name="$parent_LineTab4">
        <Size>
          <AbsDimension x="32" y="32"/>
        </Size>
        <Anchors>
          <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_LineTab5">
            <Offset>
              <AbsDimension x="0" y="-17"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="BACKGROUND">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTab">
              <Size>
                <AbsDimension x="64" y="64"/>
              </Size>
              <Anchors>
                <Anchor point="TOPLEFT">
                  <Offset>
                    <AbsDimension x="-3" y="11"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="BORDER">
            <Texture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\Options">
              <Size>
                <AbsDimension x="32" y="32"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER"/>
              </Anchors>
            </Texture>
          </Layer>
          <Layer level="HIGHLIGHT">
            <Texture name="$parent_Highlight" file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabHighlight" alphaMode="ADD">
              <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="BOTTOMRIGHT"/>
              </Anchors>
            </Texture>
          </Layer>
        </Layers>
        <NormalTexture/>
        <PushedTexture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabClick"/>
        <CheckedTexture file="Interface\AddOns\AutoLFM3\UI\Textures\Tabs\LineTabActive" alphaMode="ADD"/>
        <Scripts>
          <OnClick>
            AutoLFM.Logic.MainFrame.SelectLineTab(4)
          </OnClick>
          <OnEnter>
            GameTooltip:SetOwner(this, "ANCHOR_NONE")
            GameTooltip:ClearAllPoints()
            GameTooltip:SetPoint("BOTTOMRIGHT", this, "TOPRIGHT", 3, 1)
            GameTooltip:SetText("Options", 1, 1, 1)
            GameTooltip:Show()
          </OnEnter>
          <OnLeave>
            GameTooltip:Hide()
          </OnLeave>
        </Scripts>
      </CheckButton>
      <!--==================================================================
        Message Preview
        ==================================================================-->
      <Frame name="$parent_MessagePreview">
        <Size>
          <AbsDimension x="330" y="30"/>
        </Size>
        <Anchors>
          <Anchor point="TOP">
            <Offset>
              <AbsDimension x="-10" y="-125"/>
            </Offset>
          </Anchor>
        </Anchors>
        <Layers>
          <Layer level="MEDIUM">
            <FontString name="$parent_Text" inherits="GameFontNormal" justifyH="CENTER">
              <Size>
                <AbsDimension x="290" y="30"/>
              </Size>
              <Anchors>
                <Anchor point="CENTER">
                  <Offset>
                    <AbsDimension x="-10" y="0"/>
                  </Offset>
                </Anchor>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
        <Frames>
          <Button name="$parent_Button" hidden="true">
            <Size>
              <AbsDimension x="20" y="40"/>
            </Size>
            <Anchors>
              <Anchor point="RIGHT">
                <Offset>
                  <AbsDimension x="-4" y="7"/>
                </Offset>
              </Anchor>
            </Anchors>
            <NormalTexture file="Interface\AddOns\AutoLFM3\UI\Textures\Preview"/>
            <HighlightTexture file="Interface\AddOns\AutoLFM3\UI\Textures\Preview" alphaMode="ADD"/>
            <Scripts>
              <OnClick>
                AutoLFM.Core.Maestro.Dispatch("messages.preview")
              </OnClick>
              <OnEnter>
                GameTooltip:SetOwner(this, "ANCHOR_NONE")
                GameTooltip:SetPoint("BOTTOMRIGHT", this, "TOPLEFT", 25, -10)
                GameTooltip:SetText("Preview full message in chat", 1, 1, 1)
                GameTooltip:Show()
              </OnEnter>
              <OnLeave>
                GameTooltip:Hide()
              </OnLeave>
            </Scripts>
          </Button>
        </Frames>
      </Frame>
    </Frames>
    <!--======================================================================
      Event Handlers
      ======================================================================-->
    <Scripts>
      <OnLoad>
        UIPanelWindows[this:GetName()] = { area = "left", pushable = 1 }
        tinsert(UISpecialFrames, this:GetName())
        AutoLFM.UI.MainFrame.OnLoad(this)
      </OnLoad>
      <OnShow>
        PlaySound("GAMEDIALOGOPEN")
        AutoLFM.UI.MainFrame.OnShow(this)
      </OnShow>
      <OnHide>
        PlaySound("GAMEDIALOGCLOSE")
        AutoLFM.UI.MainFrame.OnHide(this)
      </OnHide>
    </Scripts>
  </Frame>

  <!--==========================================================================
    AutoLFM Minimap Button
    ==========================================================================-->
  <Button name="AutoLFM_MinimapButton" parent="Minimap" hidden="false" movable="true" frameStrata="MEDIUM">
    <Size>
      <AbsDimension x="32" y="32" />
    </Size>

    <Anchors>
      <Anchor point="LEFT" relativePoint="LEFT" relativeTo="Minimap">
        <Offset>
          <AbsDimension x="16" y="-68" />
        </Offset>
      </Anchor>
    </Anchors>

    <Layers>
      <Layer level="BACKGROUND">
        <Texture name="$parent_Icon" file="Interface\AddOns\AutoLFM3\UI\Textures\Eye\Eye00">
          <Size>
            <AbsDimension x="36" y="36" />
          </Size>
          <Anchors>
            <Anchor point="TOPLEFT">
              <Offset>
                <AbsDimension x="-3" y="3" />
              </Offset>
            </Anchor>
          </Anchors>
          <TexCoords left="0.05" right="0.95" top="0.05" bottom="0.95" />
        </Texture>
      </Layer>

      <Layer level="OVERLAY">
        <Texture file="Interface\Minimap\MiniMap-TrackingBorder">
          <Size>
            <AbsDimension x="52" y="52" />
          </Size>
          <Anchors>
            <Anchor point="TOPLEFT" />
          </Anchors>
        </Texture>
      </Layer>
    </Layers>

    <HighlightTexture file="Interface\Minimap\UI-Minimap-ZoomButton-Highlight" alphaMode="ADD" />

    <Scripts>
      <OnLoad>
        this:RegisterForClicks("LeftButtonUp", "RightButtonUp")
        this:RegisterForDrag("LeftButton")
        this:SetClampedToScreen(true)
      </OnLoad>

      <OnClick>
        AutoLFM.Components.MinimapButton.OnClick(this, arg1)
      </OnClick>

      <OnDragStart>
        if IsControlKeyDown() then
          this:LockHighlight()
          this:StartMoving()
        end
      </OnDragStart>

      <OnDragStop>
        this:UnlockHighlight()
        this:StopMovingOrSizing()
        AutoLFM.Components.MinimapButton.OnDragStop(this)
      </OnDragStop>

      <OnEnter>
        AutoLFM.Components.MinimapButton.OnEnter(this)
      </OnEnter>

      <OnLeave>
        GameTooltip:Hide()
      </OnLeave>
    </Scripts>
  </Button>
</Ui>
